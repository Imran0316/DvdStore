@model DvdStore.Models.Suppliers
@{
    Layout = "Dashboard"; // tumhara admin layout
    ViewBag.Title = "suppliers";
}

<h2>Manage Suppliers</h2>

<!-- Add New Suppliers Form -->
<form asp-action="Suppliers" method="post" class="mb-3">
    <div class="row">
        <div class="col-md-4">
            <input type="text" asp-for="SupplierName" placeholder="Supplier Name" class="form-control" required />
            <span asp-validation-for="SupplierName"></span>
        </div>
        <div class="col-md-6">
            <input type="text" asp-for="ContactInfo" placeholder="Phone" class="form-control" />
        </div>
        <div class="col-md-2">
            <button type="submit" class="btn btn-success">Add</button>
        </div>
    </div>
</form>

<!-- Supplers Table -->
<table class="table table-bordered table-striped">
    <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>Supplier ID</th>
            <th>Supplier Name</th>
            <th>Supplier Contact</th>
            <th style="width:150px;">Actions</th>
        </tr>
    </thead>
    <tbody>
        @{
            var suppliers = ViewBag.Suppliers as IEnumerable<DvdStore.Models.Suppliers>;
            if (suppliers != null && suppliers.Any())
            {
                int count = 1;
                foreach (var sp in suppliers)
                {
                    <tr>
                        <td>@count</td>
                        <td>@sp.SupplierID</td>
                        <td>@sp.SupplierName</td>
                        <td>@sp.ContactInfo</td>
                        <td>
                            <a class="btn btn-sm btn-primary" asp-action="EditSuppliers" asp-route-id="@sp.SupplierID">Edit</a>
                            <a class="btn btn-sm btn-danger" asp-action="DeleteSupplier" asp-route-id="@sp.SupplierID" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a>
                        </td>
                    </tr>
                    count++;
                }
            }
            else
            {
                <tr>
                    <td colspan="4" class="text-center text-muted">No categories found.</td>
                </tr>
            }
        }
    </tbody>
</table>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
